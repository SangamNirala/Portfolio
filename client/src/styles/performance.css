/* PERFORMANCE OPTIMIZATION - CSS containment, will-change, and lazy loading */

@layer utilities {
  /* CSS Containment for better rendering performance */
  .contain-layout {
    contain: layout;
  }

  .contain-paint {
    contain: paint;
  }

  .contain-strict {
    contain: strict;
  }

  .contain-content {
    contain: content;
  }

  /* Section containment */
  section {
    contain: layout style paint;
  }

  /* Card containment */
  .card {
    contain: layout style;
  }

  /* Virtual list optimization */
  .virtual-list {
    contain: strict;
    will-change: scroll-position;
  }

  .virtual-list-item {
    contain: content;
    will-change: transform;
  }

  /* Optimize animations with GPU acceleration */
  .will-animate {
    will-change: transform, opacity;
  }

  @media (prefers-reduced-motion: no-preference) {
    .will-animate {
      transform: translateZ(0);
      backface-visibility: hidden;
    }
  }

  /* Lazy-loaded section styling */
  .lazy-section {
    contain: layout style paint;
    will-change: opacity;
  }

  /* Content visibility optimization */
  .defer-load {
    content-visibility: auto;
  }
}
